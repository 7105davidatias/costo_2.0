# Production Environment Configuration Template
# מערכת ניהול אומדני עלויות רכש - Production Environment Template

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# Note: In Docker Compose, DATABASE_URL is auto-constructed from POSTGRES_* variables
# The DATABASE_URL below is for local development outside Docker
DATABASE_URL=postgresql://prod_user:CHANGE_ME@localhost:5432/procurement_prod
POSTGRES_DB=procurement_prod
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
DB_SSL=true
DB_POOL_SIZE=20
DB_TIMEOUT=10000

# ==============================================================================  
# SERVER CONFIGURATION
# ==============================================================================
NODE_ENV=production
PORT=5000
HOST=0.0.0.0

# ==============================================================================
# SESSION & SECURITY
# ==============================================================================
SESSION_SECRET=CHANGE_ME_TO_STRONG_SECRET
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_MAX_AGE=86400000
CORS_ORIGIN=https://yourprocurementdomain.com

# ==============================================================================
# FILE UPLOADS & STORAGE
# ==============================================================================
UPLOAD_PATH=/var/www/procurement/uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,jpg,jpeg,png

# ==============================================================================
# MONITORING & LOGGING
# ==============================================================================
LOG_LEVEL=info
LOG_FILE=/var/log/procurement/app.log
ENABLE_ANALYTICS=true
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ==============================================================================
# PERFORMANCE & CACHING
# ==============================================================================
ENABLE_CACHE=true
CACHE_TTL=300000
REDIS_URL=redis://localhost:6379

# ==============================================================================
# BACKUP & MAINTENANCE  
# ==============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
MAINTENANCE_WINDOW=02:00-04:00

# ==============================================================================
# SSL/TLS CONFIGURATION
# ==============================================================================
SSL_CERT_PATH=/etc/ssl/certs/procurement.crt  
SSL_KEY_PATH=/etc/ssl/private/procurement.key
FORCE_HTTPS=true

# ==============================================================================
# RATE LIMITING
# ==============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# ==============================================================================
# HEALTH CHECKS & MONITORING
# ==============================================================================
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
PING_INTERVAL=60000

# ==============================================================================
# EMAIL NOTIFICATIONS (Optional)
# ==============================================================================
SMTP_HOST=smtp.yourcompany.co.il
SMTP_PORT=587
SMTP_USER=CHANGE_ME
SMTP_PASS=CHANGE_ME 
EMAIL_FROM=noreply@yourcompany.co.il

# ==============================================================================
# EXTERNAL SERVICES (Optional)
# ==============================================================================
OPENAI_API_KEY=CHANGE_ME
MARKET_DATA_API_KEY=CHANGE_ME

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
ENABLE_AI_ANALYSIS=true
ENABLE_MARKET_RESEARCH=true
ENABLE_ADVANCED_REPORTS=true
DISABLE_ANALYTICS=false

# ==============================================================================
# SECURITY HEADERS
# ==============================================================================
HELMET_ENABLED=true
CSP_ENABLED=true
HSTS_MAX_AGE=31536000

# ==============================================================================
# DEBUG & DEVELOPMENT (Disabled in Production)
# ==============================================================================
DEBUG=false
VERBOSE_LOGGING=false
SOURCE_MAPS=false