# ×”× ×—×™×” ×œ-Replit Agent: ×ª×™×§×•×Ÿ ×¡×¤×¦×™×¤×™ ×œ×‘×¢×™×™×ª ××™-×˜×¢×™× ×ª × ×ª×•× ×™× ×©×—×•×œ×¦×•

## ×ª×™××•×¨ ×”×‘×¢×™×” ×”×¡×¤×¦×™×¤×™×ª

**ğŸš¨ ×‘×¢×™×” ×§×¨×™×˜×™×ª ×–×•×”×ª×” ×‘××¢×¨×›×ª:**

×œ××—×¨ ×™×™×©×•× ×”×ª×™×§×•×Ÿ ×”×§×•×“×, ×”× ×ª×•× ×™× ×©×—×•×œ×¦×• ××ª×•×š ××¡××›×™ ×“×¨×™×©×ª ×”×¨×›×© (×›×¤×™ ×©× ×™×ª×Ÿ ×œ×¨××•×ª ×‘×¦×™×œ×•× ×”××¡×š ×”××¦×•×¨×£) ××•×¦×’×™× ×›×¨××•×™ ×‘××¡×š ×¤×¨×˜×™ ×“×¨×™×©×ª ×”×¨×›×©, ××š **×¢×“×™×™×Ÿ ×œ× × ×˜×¢× ×™× ××—×“×© ×‘×¢×ª ×—×–×¨×” ×××¡×š ××—×§×¨ ×©×•×§**.

**× ×ª×•× ×™× ×©××•×¦×’×™× ×‘×¦×™×œ×•× ×”××¡×š:**
- ×›××•×ª: 25 ×™×—×™×“×•×ª
- ××¢×‘×“: Intel Core i7-13700 (16 cores)
- ×–×™×›×¨×•×Ÿ: 32GB DDR4
- ××—×¡×•×Ÿ: 1TB NVMe SSD
- ×›×¨×˜×™×¡ ×’×¨×¤×™: Intel UHD Graphics
- ×›×¨×˜×™×¡ ×¨×©×ª: Gigabit Ethernet
- ××—×¨×™×•×ª: 3 ×©× ×•×ª ××—×¨×™×•×ª
- ××¢×¨×›×ª ×”×¤×¢×œ×”: Windows 11 Pro
- ×’×•×¨× ×¦×•×¨×”: Desktop Tower
- ×¡×¤×§ ×›×•×—: 650W 80+ Gold

**×”×‘×¢×™×” ×”××“×•×™×§×ª:**
×”× ×ª×•× ×™× ×”×œ×œ×• × ×¢×œ××™× ×‘×¢×ª ××¢×‘×¨ ×œ××¡×š ××—×§×¨ ×©×•×§ ×•×—×–×¨×”, ××” ×©××—×™×™×‘ ××ª ×”××©×ª××© ×œ×‘×¦×¢ ×—×™×œ×•×¥ × ×ª×•× ×™× ××—×“×©.

## ×”× ×—×™×•×ª ×›×œ×œ×™×•×ª ×—×©×•×‘×•×ª

**ğŸ¯ ××˜×¨×ª ×”×ª×™×§×•×Ÿ:**
×ª×™×§×•×Ÿ ×¡×¤×¦×™×¤×™ ×œ×‘×¢×™×™×ª ×©××™×¨×” ×•×˜×¢×™× ×” ×©×œ × ×ª×•× ×™× ×©×—×•×œ×¦×• - ×œ×œ× ×©×™× ×•×™ ×›×œ ×ª×›×•×œ×” ××—×¨×ª ×‘××¢×¨×›×ª.

**âš ï¸ ×”×’×‘×œ×•×ª ×—×©×•×‘×•×ª:**
- ×‘×¦×¢ ×¨×§ ××ª ×”×ª×™×§×•×Ÿ ×”××ª×•××¨ ×œ×”×œ×Ÿ
- ××œ ×ª×©× ×” ×“×‘×¨ ××—×¨ ×‘×’×¨×¡×” ×”×§×™×™××ª
- ×©××•×¨ ×¢×œ ×›×œ ×”×¤×•× ×§×¦×™×•× ×œ×™×•×ª ×”×§×™×™××ª
- ×©××•×¨ ×¢×œ ×›×œ ×”×¢×™×¦×•×‘ ×•×”×¡×˜×™×™×œ×™× ×’ ×”×§×™×™×

## × ×™×ª×•×— ×˜×›× ×™ ××¢××™×§ ×©×œ ×”×‘×¢×™×”

### ×–×™×”×•×™ ××§×•×¨ ×”×‘×¢×™×”

×”×‘×¢×™×” × ×•×‘×¢×ª ××›×š ×©×”×ª×™×§×•×Ÿ ×”×§×•×“× ×œ× ×™×•×©× ×‘××œ×•××• ××• ×©×™×© ×‘×¢×™×•×ª ×¡×¤×¦×™×¤×™×•×ª ×‘××—×“ ××”×¨×›×™×‘×™× ×”×‘××™×:

1. **×©××™×¨×” ×œ××¡×“ × ×ª×•× ×™× ×œ× ×¢×•×‘×“×ª** - ×”× ×ª×•× ×™× ×œ× × ×©××¨×™× ×‘×¤×•×¢×œ
2. **×˜×¢×™× ×” ××”××¡×“ × ×ª×•× ×™× ×œ× ×¢×•×‘×“×ª** - ×”× ×ª×•× ×™× ×œ× × ×˜×¢× ×™× ×‘×—×–×¨×”
3. **API endpoints ×œ× ××•×’×“×¨×™× × ×›×•×Ÿ** - ×”×§×¨×™××•×ª × ×›×©×œ×•×ª
4. **State management ×œ× ×¢×•×‘×“** - ×”× ×ª×•× ×™× ×œ× ××ª×¢×“×›× ×™× ×‘-React

### ×‘×“×™×§×” ×¨××©×•× ×™×ª × ×“×¨×©×ª

×œ×¤× ×™ ×”×ª×™×§×•×Ÿ, ×™×© ×œ×‘×“×•×§ ××ª ×”× ×§×•×“×•×ª ×”×‘××•×ª:

```javascript
// ×‘×“×™×§×” 1: ×”×× ×”-API endpoints ×§×™×™××™×?
console.log('×‘×“×™×§×ª API endpoints...');
fetch('/api/procurement-requests/1/extracted-data')
  .then(response => response.json())
  .then(data => console.log('×ª×’×•×‘×ª API:', data))
  .catch(error => console.error('×©×’×™××” ×‘-API:', error));

// ×‘×“×™×§×” 2: ×”×× ×”× ×ª×•× ×™× × ×©××¨×™× ×œ××¡×“ × ×ª×•× ×™×?
// ×‘×“×•×§ ×‘×§×•× ×¡×•×œ ×”×‘×§×× ×“ ××• ×‘××¡×“ ×”× ×ª×•× ×™× ×™×©×™×¨×•×ª

// ×‘×“×™×§×” 3: ×”×× ×”×§×•××¤×•× × ×˜ ×§×•×¨× ×œ×¤×•× ×§×¦×™×™×ª ×”×˜×¢×™× ×”?
console.log('×‘×“×™×§×ª ×˜×¢×™× ×ª × ×ª×•× ×™× ×‘×§×•××¤×•× × ×˜...');
```

## ×¤×ª×¨×•×Ÿ ××¤×•×¨×˜ ×•××“×•×™×§

### ×©×œ×‘ 1: ×•×™×“×•× ×©×”×©×“×•×ª × ×•×¡×¤×• ×œ××¡×“ ×”× ×ª×•× ×™×

```python
# ×‘×§×•×‘×¥ models/procurement.py - ×•×•×“× ×©×”×©×“×•×ª ×§×™×™××™×
from flask_sqlalchemy import SQLAlchemy
from datetime import datetime
import json

class ProcurementRequest(db.Model):
    __tablename__ = 'procurement_requests'
    
    # ×©×“×•×ª ×§×™×™××™×...
    id = db.Column(db.Integer, primary_key=True)
    title = db.Column(db.String(200), nullable=False)
    description = db.Column(db.Text)
    
    # ×©×“×•×ª ×—×“×©×™× ×©×¦×¨×™×›×™× ×œ×”×™×•×ª ×§×™×™××™×:
    extracted_data = db.Column(db.Text, nullable=True, comment="× ×ª×•× ×™× ×©×—×•×œ×¦×• ××ª×•×š ×”××¡××›×™× ×‘×¤×•×¨××˜ JSON")
    extraction_date = db.Column(db.DateTime, nullable=True, comment="×ª××¨×™×š ×—×™×œ×•×¥ ×”× ×ª×•× ×™×")
    extraction_status = db.Column(db.String(50), nullable=True, default='not_extracted', comment="×¡×˜×˜×•×¡ ×—×™×œ×•×¥ ×”× ×ª×•× ×™×")
    
    def set_extracted_data(self, data):
        """×©××™×¨×ª × ×ª×•× ×™× ×©×—×•×œ×¦×•"""
        self.extracted_data = json.dumps(data, ensure_ascii=False)
        self.extraction_date = datetime.utcnow()
        self.extraction_status = 'extracted'
        print(f"×©××™×¨×ª × ×ª×•× ×™× ×œ×“×¨×™×©×” {self.id}: {self.extracted_data}")
    
    def get_extracted_data(self):
        """×§×‘×œ×ª × ×ª×•× ×™× ×©×—×•×œ×¦×•"""
        if self.extracted_data:
            try:
                return json.loads(self.extracted_data)
            except json.JSONDecodeError:
                print(f"×©×’×™××” ×‘×¤×¢× ×•×— JSON ×œ×“×¨×™×©×” {self.id}")
                return None
        return None
    
    def has_extracted_data(self):
        """×‘×“×™×§×” ×”×× ×™×© × ×ª×•× ×™× ×©×—×•×œ×¦×•"""
        return self.extraction_status == 'extracted' and self.extracted_data is not None

# ×× ×”×©×“×•×ª ×œ× ×§×™×™××™×, ×”×•×¡×£ migration:
def upgrade():
    """×”×•×¡×¤×ª ×©×“×•×ª ×œ×©××™×¨×ª × ×ª×•× ×™× ×©×—×•×œ×¦×•"""
    try:
        op.add_column('procurement_requests', 
                      sa.Column('extracted_data', sa.Text(), nullable=True))
        op.add_column('procurement_requests', 
                      sa.Column('extraction_date', sa.DateTime(), nullable=True))
        op.add_column('procurement_requests', 
                      sa.Column('extraction_status', sa.String(50), nullable=True))
        print("×©×“×•×ª × ×•×¡×¤×• ×‘×”×¦×œ×—×” ×œ××¡×“ ×”× ×ª×•× ×™×")
    except Exception as e:
        print(f"×©×’×™××” ×‘×”×•×¡×¤×ª ×©×“×•×ª: {e}")
```

### ×©×œ×‘ 2: ×™×¦×™×¨×ª/×¢×“×›×•×Ÿ API endpoints

```python
# ×‘×§×•×‘×¥ routes/procurement.py
from flask import Blueprint, request, jsonify
from models.procurement import ProcurementRequest
from database import db
import json
from datetime import datetime

procurement_bp = Blueprint('procurement', __name__)

@procurement_bp.route('/api/procurement-requests/<int:request_id>/extracted-data', methods=['POST'])
def save_extracted_data(request_id):
    """×©××™×¨×ª × ×ª×•× ×™× ×©×—×•×œ×¦×• ××ª×•×š ××¡××›×™ ×”×“×¨×™×©×”"""
    try:
        print(f"×§×‘×œ×ª ×‘×§×©×” ×œ×©××™×¨×ª × ×ª×•× ×™× ×œ×“×¨×™×©×” {request_id}")
        data = request.get_json()
        
        if not data:
            return jsonify({'success': False, 'error': '×œ× ×”×ª×§×‘×œ×• × ×ª×•× ×™×'}), 400
        
        # ×§×‘×œ×ª ×“×¨×™×©×ª ×”×¨×›×©
        procurement_request = ProcurementRequest.query.get(request_id)
        if not procurement_request:
            return jsonify({'success': False, 'error': '×“×¨×™×©×ª ×¨×›×© ×œ× × ××¦××”'}), 404
        
        # ×©××™×¨×ª ×”× ×ª×•× ×™× ×©×—×•×œ×¦×•
        procurement_request.set_extracted_data(data)
        db.session.commit()
        
        print(f"× ×ª×•× ×™× × ×©××¨×• ×‘×”×¦×œ×—×” ×œ×“×¨×™×©×” {request_id}")
        
        return jsonify({
            'success': True,
            'message': '× ×ª×•× ×™× ×©×—×•×œ×¦×• × ×©××¨×• ×‘×”×¦×œ×—×”',
            'extraction_date': procurement_request.extraction_date.isoformat() if procurement_request.extraction_date else None,
            'data_preview': str(data)[:100] + '...' if len(str(data)) > 100 else str(data)
        })
        
    except Exception as e:
        print(f"×©×’×™××” ×‘×©××™×¨×ª × ×ª×•× ×™×: {e}")
        db.session.rollback()
        return jsonify({
            'success': False,
            'error': f'×©×’×™××” ×‘×©××™×¨×ª × ×ª×•× ×™×: {str(e)}'
        }), 500

@procurement_bp.route('/api/procurement-requests/<int:request_id>/extracted-data', methods=['GET'])
def get_extracted_data(request_id):
    """×§×‘×œ×ª × ×ª×•× ×™× ×©×—×•×œ×¦×• ×¢×‘×•×¨ ×“×¨×™×©×ª ×¨×›×©"""
    try:
        print(f"×§×‘×œ×ª ×‘×§×©×” ×œ×˜×¢×™× ×ª × ×ª×•× ×™× ×œ×“×¨×™×©×” {request_id}")
        
        procurement_request = ProcurementRequest.query.get(request_id)
        if not procurement_request:
            return jsonify({'success': False, 'error': '×“×¨×™×©×ª ×¨×›×© ×œ× × ××¦××”'}), 404
        
        if procurement_request.has_extracted_data():
            extracted_data = procurement_request.get_extracted_data()
            print(f"× ×ª×•× ×™× × ×˜×¢× ×• ×‘×”×¦×œ×—×” ×œ×“×¨×™×©×” {request_id}: {extracted_data}")
            
            return jsonify({
                'success': True,
                'has_data': True,
                'data': extracted_data,
                'extraction_date': procurement_request.extraction_date.isoformat() if procurement_request.extraction_date else None,
                'status': procurement_request.extraction_status
            })
        else:
            print(f"××™×Ÿ × ×ª×•× ×™× ×©××•×¨×™× ×œ×“×¨×™×©×” {request_id}")
            return jsonify({
                'success': True,
                'has_data': False,
                'data': None,
                'message': '××™×Ÿ × ×ª×•× ×™× ×©×—×•×œ×¦×• ×¢×‘×•×¨ ×“×¨×™×©×” ×–×•'
            })
            
    except Exception as e:
        print(f"×©×’×™××” ×‘×˜×¢×™× ×ª × ×ª×•× ×™×: {e}")
        return jsonify({
            'success': False,
            'error': f'×©×’×™××” ×‘×˜×¢×™× ×ª × ×ª×•× ×™×: {str(e)}'
        }), 500

# ×‘×“×™×§×ª ×—×™×‘×•×¨ API
@procurement_bp.route('/api/test-connection', methods=['GET'])
def test_connection():
    """×‘×“×™×§×ª ×—×™×‘×•×¨ API"""
    return jsonify({
        'success': True,
        'message': 'API ×¤×•×¢×œ ×ª×§×™×Ÿ',
        'timestamp': datetime.utcnow().isoformat()
    })
```

### ×©×œ×‘ 3: ×¢×“×›×•×Ÿ ×§×•××¤×•× × ×˜ React ×¢× ×œ×•×’×™×§×” ××—×•×–×§×ª

```jsx
// ×‘×§×•×‘×¥ components/ProcurementRequestDetails.jsx
import React, { useState, useEffect } from 'react';
import { useParams, useNavigate } from 'react-router-dom';

const ProcurementRequestDetails = () => {
  const { id } = useParams();
  const navigate = useNavigate();
  
  // state ×§×™×™×
  const [request, setRequest] = useState(null);
  const [loading, setLoading] = useState(true);
  
  // state ×œ× ×ª×•× ×™× ×©×—×•×œ×¦×•
  const [extractedData, setExtractedData] = useState(null);
  const [hasExtractedData, setHasExtractedData] = useState(false);
  const [extractionLoading, setExtractionLoading] = useState(false);
  const [lastExtractionDate, setLastExtractionDate] = useState(null);

  // ×˜×¢×™× ×ª × ×ª×•× ×™× ×‘×›×œ ×¤×¢× ×©×”×§×•××¤×•× × ×˜ × ×˜×¢×Ÿ
  useEffect(() => {
    console.log('×§×•××¤×•× × ×˜ × ×˜×¢×Ÿ, ××ª×—×™×œ ×˜×¢×™× ×ª × ×ª×•× ×™×...');
    loadRequestData();
    loadExtractedData();
  }, [id]);

  // ×˜×¢×™× ×” × ×•×¡×¤×ª ×›××©×¨ ×—×•×–×¨×™× ××“×£ ××—×¨
  useEffect(() => {
    const handleFocus = () => {
      console.log('×—×–×¨×” ×œ×“×£, ×˜×•×¢×Ÿ × ×ª×•× ×™× ××—×“×©...');
      loadExtractedData();
    };
    
    window.addEventListener('focus', handleFocus);
    return () => window.removeEventListener('focus', handleFocus);
  }, [id]);

  const loadRequestData = async () => {
    try {
      console.log(`×˜×•×¢×Ÿ × ×ª×•× ×™ ×“×¨×™×©×” ${id}...`);
      const response = await fetch(`/api/procurement-requests/${id}`);
      
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      
      const data = await response.json();
      setRequest(data);
      console.log('× ×ª×•× ×™ ×“×¨×™×©×” × ×˜×¢× ×• ×‘×”×¦×œ×—×”:', data);
    } catch (error) {
      console.error('×©×’×™××” ×‘×˜×¢×™× ×ª × ×ª×•× ×™ ×”×“×¨×™×©×”:', error);
    } finally {
      setLoading(false);
    }
  };

  const loadExtractedData = async () => {
    try {
      console.log(`×˜×•×¢×Ÿ × ×ª×•× ×™× ×©×—×•×œ×¦×• ×œ×“×¨×™×©×” ${id}...`);
      
      // ×‘×“×™×§×ª ×—×™×‘×•×¨ API ×§×•×“×
      const testResponse = await fetch('/api/test-connection');
      if (!testResponse.ok) {
        throw new Error('API ×œ× ×–××™×Ÿ');
      }
      
      const response = await fetch(`/api/procurement-requests/${id}/extracted-data`);
      
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      
      const result = await response.json();
      console.log('×ª×’×•×‘×ª API ×œ× ×ª×•× ×™× ×©×—×•×œ×¦×•:', result);
      
      if (result.success && result.has_data) {
        setExtractedData(result.data);
        setHasExtractedData(true);
        setLastExtractionDate(result.extraction_date);
        console.log('× ×ª×•× ×™× ×©×—×•×œ×¦×• × ×˜×¢× ×• ×‘×”×¦×œ×—×”:', result.data);
      } else {
        setExtractedData(null);
        setHasExtractedData(false);
        setLastExtractionDate(null);
        console.log('××™×Ÿ × ×ª×•× ×™× ×©×—×•×œ×¦×• ×¢×‘×•×¨ ×“×¨×™×©×” ×–×•');
      }
    } catch (error) {
      console.error('×©×’×™××” ×‘×˜×¢×™× ×ª × ×ª×•× ×™× ×©×—×•×œ×¦×•:', error);
      setExtractedData(null);
      setHasExtractedData(false);
      setLastExtractionDate(null);
    }
  };

  const handleAIAnalysis = async () => {
    setExtractionLoading(true);
    
    try {
      console.log('××ª×—×™×œ × ×™×ª×•×— AI...');
      
      // ×”×§×•×“ ×”×§×™×™× ×œ×—×™×œ×•×¥ × ×ª×•× ×™× (×¡×™××•×œ×¦×™×”)
      const analysisResult = await performAIAnalysis(request);
      console.log('×ª×•×¦××•×ª × ×™×ª×•×— AI:', analysisResult);
      
      // ×©××™×¨×ª ×”× ×ª×•× ×™× ×©×—×•×œ×¦×• ×œ××¡×“ ×”× ×ª×•× ×™×
      await saveExtractedData(analysisResult);
      
      // ×¢×“×›×•×Ÿ ×”-state ×”××§×•××™
      setExtractedData(analysisResult);
      setHasExtractedData(true);
      setLastExtractionDate(new Date().toISOString());
      
      console.log('× ×™×ª×•×— AI ×”×•×©×œ× ×‘×”×¦×œ×—×”');
      
    } catch (error) {
      console.error('×©×’×™××” ×‘× ×™×ª×•×— AI:', error);
      alert('×©×’×™××” ×‘× ×™×ª×•×— AI: ' + error.message);
    } finally {
      setExtractionLoading(false);
    }
  };

  const saveExtractedData = async (data) => {
    try {
      console.log(`×©×•××¨ × ×ª×•× ×™× ×©×—×•×œ×¦×• ×œ×“×¨×™×©×” ${id}:`, data);
      
      const response = await fetch(`/api/procurement-requests/${id}/extracted-data`, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data)
      });
      
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      
      const result = await response.json();
      console.log('×ª×’×•×‘×ª ×©××™×¨×”:', result);
      
      if (!result.success) {
        throw new Error(result.error || '×©×’×™××” ×‘×©××™×¨×ª × ×ª×•× ×™×');
      }
      
      console.log('× ×ª×•× ×™× ×©×—×•×œ×¦×• × ×©××¨×• ×‘×”×¦×œ×—×” ×œ××¡×“ ×”× ×ª×•× ×™×');
      
    } catch (error) {
      console.error('×©×’×™××” ×‘×©××™×¨×ª × ×ª×•× ×™× ×©×—×•×œ×¦×•:', error);
      // ××œ ×ª×¢×¦×•×¨ ××ª ×”×ª×”×œ×™×š - ×”××©×ª××© ×¢×“×™×™×Ÿ ×™×›×•×œ ×œ×¨××•×ª ××ª ×”× ×ª×•× ×™×
      alert('××–×”×¨×”: ×”× ×ª×•× ×™× ×œ× × ×©××¨×• ×œ××¡×“ ×”× ×ª×•× ×™×. ×”× ×™×¢×œ××• ×‘×¢×ª ×¨×¢× ×•×Ÿ ×”×“×£.');
    }
  };

  const handleMarketResearch = () => {
    console.log('×¢×•×‘×¨ ×œ××—×§×¨ ×©×•×§...');
    // ××¢×‘×¨ ×œ××¡×š ×¡×§×¨ ×©×•×§ - ×”× ×ª×•× ×™× ×›×‘×¨ ×©××•×¨×™× ×‘××¡×“ ×”× ×ª×•× ×™×
    navigate(`/market-research/${id}`);
  };

  // ×¤×•× ×§×¦×™×” ×œ×‘×“×™×§×” ×”×× ×™×© × ×ª×•× ×™× ×©×—×•×œ×¦×• (×§×™×™××™× ××• ×—×“×©×™×)
  const hasAnyExtractedData = () => {
    return hasExtractedData || extractedData !== null;
  };

  // ×¤×•× ×§×¦×™×” ×œ×¢×™×¦×•×‘ ×ª××¨×™×š
  const formatDate = (dateString) => {
    if (!dateString) return '';
    try {
      return new Date(dateString).toLocaleString('he-IL');
    } catch {
      return dateString;
    }
  };

  // ×¨×™× ×“×•×¨ ×”×§×•××¤×•× × ×˜
  return (
    <div className="procurement-request-details">
      {loading ? (
        <div className="loading">×˜×•×¢×Ÿ...</div>
      ) : (
        <>
          {/* ×ª×•×›×Ÿ ×§×™×™× ×©×œ ×”×§×•××¤×•× × ×˜ */}
          <div className="request-info">
            <h2>{request?.title}</h2>
            <p>{request?.description}</p>
          </div>

          {/* ×¡×¢×™×£ × ×™×ª×•×— AI - ×¢× ×”×¦×’×ª × ×ª×•× ×™× ×©×—×•×œ×¦×• ×× ×§×™×™××™× */}
          <div className="ai-analysis-section">
            <h3>× ×™×ª×•×— AI</h3>
            
            {hasAnyExtractedData() ? (
              <div className="extracted-data-display">
                <div className="data-status">
                  <span className="status-indicator success">âœ“</span>
                  <span>× ×ª×•× ×™× ×—×•×œ×¦×• ×‘×”×¦×œ×—×”</span>
                  {lastExtractionDate && (
                    <small>× ×•×¦×¨ ×‘-{formatDate(lastExtractionDate)}</small>
                  )}
                  {hasExtractedData && (
                    <small className="loaded-from-db">× ×˜×¢×Ÿ ××”××¢×¨×›×ª</small>
                  )}
                </div>
                
                {/* ×”×¦×’×ª ×”× ×ª×•× ×™× ×©×—×•×œ×¦×• */}
                <div className="extracted-data-content">
                  {extractedData && (
                    <div className="specs-display">
                      <h4>××¤×¨×˜×™× ×©×—×•×œ×¦×•:</h4>
                      <div className="specs-grid">
                        {Object.entries(extractedData).map(([key, value]) => (
                          <div key={key} className="spec-item">
                            <span className="spec-label">{getSpecLabel(key)}:</span>
                            <span className="spec-value">{String(value)}</span>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}
                </div>
                
                <div className="action-buttons">
                  <button 
                    onClick={handleAIAnalysis}
                    disabled={extractionLoading}
                    className="btn-secondary"
                  >
                    {extractionLoading ? '××—×œ×¥ × ×ª×•× ×™×...' : '×—×œ×¥ × ×ª×•× ×™× ××—×“×©'}
                  </button>
                  
                  <button 
                    onClick={handleMarketResearch}
                    className="btn-primary"
                  >
                    ××—×§×¨ ×©×•×§
                  </button>
                </div>
              </div>
            ) : (
              <div className="no-extracted-data">
                <p>×œ× ×‘×•×¦×¢ ×—×™×œ×•×¥ × ×ª×•× ×™× ×¢×“×™×™×Ÿ</p>
                <button 
                  onClick={handleAIAnalysis}
                  disabled={extractionLoading}
                  className="btn-primary"
                >
                  {extractionLoading ? '××—×œ×¥ × ×ª×•× ×™×...' : '×”×ª×—×œ × ×™×ª×•×— AI'}
                </button>
              </div>
            )}
          </div>
        </>
      )}
    </div>
  );
};

// ×¤×•× ×§×¦×™×” ×œ×ª×¨×’×•× ××¤×ª×—×•×ª ×œ×¢×‘×¨×™×ª
const getSpecLabel = (key) => {
  const labels = {
    quantity: '×›××•×ª',
    processor: '××¢×‘×“',
    memory: '×–×™×›×¨×•×Ÿ',
    storage: '××—×¡×•×Ÿ',
    graphics: '×›×¨×˜×™×¡ ×’×¨×¤×™',
    networkCard: '×›×¨×˜×™×¡ ×¨×©×ª',
    warranty: '××—×¨×™×•×ª',
    operatingSystem: '××¢×¨×›×ª ×”×¤×¢×œ×”',
    formFactor: '×’×•×¨× ×¦×•×¨×”',
    powerSupply: '×¡×¤×§ ×›×•×—'
  };
  return labels[key] || key;
};

// ×¤×•× ×§×¦×™×” ×œ×‘×™×¦×•×¢ × ×™×ª×•×— AI (×¡×™××•×œ×¦×™×” ×©×œ ×”×§×•×“ ×”×§×™×™×)
const performAIAnalysis = async (request) => {
  // ×¡×™××•×œ×¦×™×” ×©×œ ×—×™×œ×•×¥ × ×ª×•× ×™×
  await new Promise(resolve => setTimeout(resolve, 2000));
  
  // ×”×—×–×¨ × ×ª×•× ×™× ×“×•××™× ×œ××œ×” ×©×‘×¦×™×œ×•× ×”××¡×š
  return {
    quantity: 25,
    processor: "Intel Core i7-13700 (16 cores)",
    memory: "32GB DDR4",
    storage: "1TB NVMe SSD",
    graphics: "Intel UHD Graphics",
    networkCard: "Gigabit Ethernet",
    warranty: "3 ×©× ×•×ª ××—×¨×™×•×ª",
    operatingSystem: "Windows 11 Pro",
    formFactor: "Desktop Tower",
    powerSupply: "650W 80+ Gold"
  };
};

export default ProcurementRequestDetails;
```

### ×©×œ×‘ 4: CSS × ×•×¡×£ ×œ××™× ×“×™×§×˜×•×¨×™×

```css
/* ×”×•×¡×£ ×œ×§×•×‘×¥ ×”×¡×˜×™×™×œ×™× ×”×§×™×™× */

.loaded-from-db {
  background: #e3f2fd;
  color: #1565c0;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 0.75em;
  margin-right: 8px;
}

.data-status {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 15px;
  flex-wrap: wrap;
}

.data-status small {
  color: #666;
  font-size: 0.85em;
}

.specs-display {
  margin: 20px 0;
}

.specs-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 12px;
  margin-top: 12px;
}

.spec-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px;
  background: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.spec-label {
  font-weight: 500;
  color: #495057;
  margin-left: 8px;
}

.spec-value {
  color: #212529;
  font-weight: 400;
  text-align: left;
  direction: ltr;
}

/* ×× ×™××¦×™×” ×œ×˜×¢×™× ×” */
.loading {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 200px;
  font-size: 1.2em;
  color: #666;
}
```

## ×‘×“×™×§×•×ª ××¤×•×¨×˜×•×ª ×œ××—×¨ ×”×ª×™×§×•×Ÿ

### ×‘×“×™×§×•×ª API

```bash
# ×‘×“×™×§×” 1: ×‘×“×™×§×ª ×—×™×‘×•×¨ API
curl http://localhost:5000/api/test-connection

# ×‘×“×™×§×” 2: ×©××™×¨×ª × ×ª×•× ×™×
curl -X POST http://localhost:5000/api/procurement-requests/1/extracted-data \
  -H "Content-Type: application/json" \
  -d '{"processor": "Intel i7", "memory": "32GB"}'

# ×‘×“×™×§×” 3: ×§×‘×œ×ª × ×ª×•× ×™×
curl http://localhost:5000/api/procurement-requests/1/extracted-data
```

### ×‘×“×™×§×•×ª ××¡×“ × ×ª×•× ×™×

```sql
-- ×‘×“×™×§×” 1: ×•×•×“× ×©×”×˜×‘×œ×” ×§×™×™××ª ×¢× ×”×©×“×•×ª ×”×—×“×©×™×
DESCRIBE procurement_requests;

-- ×‘×“×™×§×” 2: ×‘×“×•×§ × ×ª×•× ×™× ×©× ×©××¨×•
SELECT id, title, extraction_status, extraction_date, 
       SUBSTRING(extracted_data, 1, 100) as data_preview
FROM procurement_requests 
WHERE extracted_data IS NOT NULL;

-- ×‘×“×™×§×” 3: ×‘×“×•×§ ×¡×¤×¦×™×¤×™×ª ××ª ×”×“×¨×™×©×” ××”×¦×™×œ×•× ×”××¡×š
SELECT * FROM procurement_requests WHERE id = 1;
```

### ×‘×“×™×§×•×ª ×¤×•× ×§×¦×™×•× ×œ×™×•×ª

1. **×–×¨×™××ª ×¢×‘×•×“×” ××œ××”:**
   - ×”×™×›× ×¡ ×œ×¤×¨×˜×™ ×“×¨×™×©×ª ×¨×›×©
   - ×‘×¦×¢ ×—×™×œ×•×¥ × ×ª×•× ×™× (× ×™×ª×•×— AI)
   - ×•×•×“× ×©×”× ×ª×•× ×™× ××•×¦×’×™×
   - ×¢×‘×•×¨ ×œ××—×§×¨ ×©×•×§
   - ×—×–×•×¨ ×œ×¤×¨×˜×™ ×“×¨×™×©×ª ×¨×›×©
   - **×•×•×“× ×©×”× ×ª×•× ×™× ×¢×“×™×™×Ÿ ××•×¦×’×™×**

2. **×‘×“×™×§×ª ×¨×¢× ×•×Ÿ ×“×£:**
   - ×œ××—×¨ ×—×™×œ×•×¥ × ×ª×•× ×™×, ×¨×¢× ×Ÿ ××ª ×”×“×£
   - ×•×•×“× ×©×”× ×ª×•× ×™× × ×˜×¢× ×™× ××”××¡×“

3. **×‘×“×™×§×ª ×§×•× ×¡×•×œ ×“×¤×“×¤×Ÿ:**
   - ×¤×ª×— ××ª ×§×•× ×¡×•×œ ×”×“×¤×“×¤×Ÿ
   - ×‘×“×•×§ ×©××™×Ÿ ×©×’×™××•×ª
   - ×‘×“×•×§ ×©×”×”×•×“×¢×•×ª ××•×¦×’×•×ª ×›×¨××•×™

## ×”× ×—×™×•×ª ×™×™×©×•× ××“×•×™×§×•×ª

### ×¡×“×¨ ×‘×™×¦×•×¢ ×—×•×‘×”

1. **×©×œ×‘ 1: ×‘×“×™×§×ª ××¡×“ × ×ª×•× ×™× (10 ×“×§×•×ª)**
   - ×•×•×“× ×©×”×©×“×•×ª ×”×—×“×©×™× ×§×™×™××™×
   - ×× ×œ×, ×”×•×¡×£ ××•×ª× ×¢× migration

2. **×©×œ×‘ 2: ×™×¦×™×¨×ª/×¢×“×›×•×Ÿ API endpoints (20 ×“×§×•×ª)**
   - ×•×•×“× ×©×”-routes ×§×™×™××™× ×•×¢×•×‘×“×™×
   - ×‘×“×•×§ ×¢× curl ××• Postman

3. **×©×œ×‘ 3: ×¢×“×›×•×Ÿ ×§×•××¤×•× × ×˜ React (25 ×“×§×•×ª)**
   - ×”×—×œ×£ ××ª ×”×§×•×“ ×‘×§×•×‘×¥ ×”×§×™×™×
   - ×”×•×¡×£ console.log ×œ×“×™×‘×•×’
   - ×•×•×“× ×©×”×¤×•× ×§×¦×™×•×ª × ×§×¨××•×ª

4. **×©×œ×‘ 4: ×‘×“×™×§×•×ª ××§×™×¤×•×ª (15 ×“×§×•×ª)**
   - ×‘×¦×¢ ×–×¨×™××ª ×¢×‘×•×“×” ××œ××”
   - ×‘×“×•×§ ×§×•× ×¡×•×œ ×œ×©×’×™××•×ª
   - ×•×•×“× ×©×”× ×ª×•× ×™× × ×©××¨×™× ×•× ×˜×¢× ×™×

### × ×§×•×“×•×ª ×§×¨×™×˜×™×•×ª ×œ×‘×“×™×§×”

1. **×•×•×“× ×©×”-API endpoints ××•×’×“×¨×™× × ×›×•×Ÿ:**
   ```python
   # ×‘×§×•×‘×¥ app.py ××• main.py
   from routes.procurement import procurement_bp
   app.register_blueprint(procurement_bp)
   ```

2. **×•×•×“× ×©××¡×“ ×”× ×ª×•× ×™× ××¢×•×“×›×Ÿ:**
   ```bash
   flask db upgrade
   # ××•
   python -c "from app import db; db.create_all()"
   ```

3. **×•×•×“× ×©×”×§×•××¤×•× × ×˜ × ×˜×¢×Ÿ ××—×“×©:**
   - ×”×©×ª××© ×‘-useEffect ×¢× dependency array × ×›×•×Ÿ
   - ×”×•×¡×£ event listener ×œ-window focus

## ×¡×™×›×•×

×ª×™×§×•×Ÿ ×–×” ××ª××§×“ ×‘×¤×ª×¨×•×Ÿ ×”×‘×¢×™×” ×”×¡×¤×¦×™×¤×™×ª ×©×œ ××™-×˜×¢×™× ×ª × ×ª×•× ×™× ×©×—×•×œ×¦×• ×‘×¢×ª ×—×–×¨×” ×××¡×š ××—×§×¨ ×©×•×§. ×”×¤×ª×¨×•×Ÿ ×›×•×œ×œ:

1. **×•×™×“×•× ×©××™×¨×” × ×›×•× ×”** ×œ××¡×“ ×”× ×ª×•× ×™×
2. **×•×™×“×•× ×˜×¢×™× ×” × ×›×•× ×”** ××”××¡×“ ×‘×›×œ ×¤×¢× ×©×”×§×•××¤×•× × ×˜ × ×˜×¢×Ÿ
3. **×”×•×¡×¤×ª ×œ×•×’×™×§×ª ×“×™×‘×•×’** ×œ×–×™×”×•×™ ×‘×¢×™×•×ª
4. **×‘×“×™×§×•×ª ××§×™×¤×•×ª** ×œ×•×™×“×•× ×©×”×ª×™×§×•×Ÿ ×¢×•×‘×“

**×–×›×•×¨: ×‘×¦×¢ ××ª ×›×œ ×”×©×œ×‘×™× ×‘×¡×“×¨ ×•×‘×“×•×§ ×›×œ ×©×œ×‘ ×œ×¤× ×™ ×”××¢×‘×¨ ×œ×‘×!**

